<?xml version="1.0" ?>
<TranscendenceModule>

<!-- ======================================================================= -->
								<!-- Fuel -->									
<!-- ======================================================================= -->

	<!-- Fuel Unit-->

	<ItemType UNID="&itCCFuelUnit;"
			name=				"(Unit of Fuel)"
			attributes=			"cabbageCorp, consumable, fuel, res"
			virtual=			"True"
			
			level=				"0"
			frequency=			"notrandom"
			numberAppearing=	"0"
			
			value=				"0"
			mass=				"0"
			
			data=				"1"

			description=		"This is a single unit of fuel for using code to refuel ships, because telling the ship to consume negative fuel doesn't appear to refuel it."

			>

		<Image imageID="&rsItems1;" imageX="0" imageY="672" imageWidth="96" imageHeight="96"/>
		
	</ItemType>

	<!-- Uranium Assembly -->

	<ItemType UNID="&itCCUraniumAssembly;"
			name=				"uranium reactor assembly| uranium reactor assemblies"
			attributes=			"cabbageCorp, consumable, fuel, res"
			
			level=				"6"
			frequency=			"uncommon"
			numberAppearing=	"3d6"
			
			value=				"900"
			mass=				"750"
			
			data=				"30000"

			description=		"This is an enriched bundle of uranium fuel rods. Though more efficient than individual fuel rods, only reactors rated L6 or higher can accommodate them."

			reverseArticle=		"true"
			>

		<Image imageID="&rsItems1;" imageX="0" imageY="672" imageWidth="96" imageHeight="96"/>
		
		<Events>
			<OnRefuel>
				; Find or create an overlay that will generate radioactive waste
				(if (eq gSource gPlayerShip)
					(block (theID)
						(enum (objGetOverlays gSource) theOverlay
							(if (eq (objGetOverlayType gSource theOverlay) &ovCCUraniumWasteCheck;)
								(setq theID theOverlay)
								)
							)
							
						(if theID
							(objIncOverlayData gSource theID "wasteCount" (itmGetCount gItem))

							(block Nil
								(setq theID (objAddOverlay gSource &ovCCUraniumWasteCheck;))
								(objSetOverlayData gSource theID "wasteCount" (multiply (itmGetCount gItem) 2))
								(objSetOverlayData gSource theID "counter" 0)
								)
							)
						)
					)
			</OnRefuel>
		</Events>
	</ItemType>
	
	<OverlayType UNID="&ovCCUraniumWasteCheck;">
		<Events>
			<OnUpdate>
				; Create a barrel of waste every 50 cycles (25 seconds)
				(if (geq (objIncOverlayData gSource aOverlayID "counter") 40)
					(block (left)
						(setq left (objIncOverlayData gSource aOverlayID "wasteCount" -1))
						(objAddItem gSource (itmCreate &itRadioactiveWaste; 1))
						(objSetOverlayData gSource aOverlayID "counter" 0)
						
						(plyMessage gPlayer "Uranium rod consumed")
						
						(if (eq left 0)
							(objRemoveOverlay gSource aOverlayID)
							)
						)
					)
			</OnUpdate>
		</Events>
	</OverlayType>

	<!-- Xenotite Assembly -->

	<ItemType UNID="&itCCXenotiteAssembly;"
			name=				"xe3000notite reactor assembly| xenotite reactor assemblies"
			attributes=			"basicFuel, cabbageCorp, consumable, fuel"
			
			level=				"8"
			frequency=			"common"
			numberAppearing=	"3d6"
			
			value=				"1200"
			mass=				"180"

			data=				"120000"
			
			description=		"This is an enriched bundle of xenotite fuel rods. Though more efficient than individual fuel rods, only reactors rated L8 or higher can accommodate them."
	>

		<Image imageID="&rsItems1;" imageX="288" imageY="96" imageWidth="96" imageHeight="96"/>
	</ItemType>
	
	<!-- Heliotrope Assembly -->

	<ItemType UNID="&itCCHeliotropeAssembly;"
			name=				"Heliotrope reactor assembly| Heliotrope reactor assemblies"
			level=				"8"
			value=				"2400"
			mass=				"300"
			frequency=			"veryrare"
			numberAppearing=	"3d6"
			attributes=			"cabbageCorp, consumable, fuel, heliotropes, notForSale"

			data=				"300000"

			description=		"This is an enriched bundle of Heliotrope fuel cylinders, one of the cleanest and most powerful fuels available. Only reactors rated L8 or higher can accommodate them."
	>

		<Image imageID="&rsItems1;" imageX="288" imageY="96" imageWidth="96" imageHeight="96"/>

		<Events>
			<OnRefuel>
				; Chance that this will enhance the ship's drive
				(if (leq (random 1 100) (multiply 2 (itmGetCount gItem)))
					(objEnumItems gSource "rI" theItem
						(switch
							(itmGetProperty gItem 'damaged)
								(block Nil
									(objSendMessage gSource Nil (cat "Your " (itmGetName theItem 0) " has been repaired."))
									(shpRepairItem gSource theItem)
								)

							(not (itmIsEnhanced theItem))
								(block Nil
									(objSendMessage gSource Nil (cat "Your " (itmGetName theItem 0) " has been enhanced."))
									(shpEnhanceItem gSource theItem)
								)
						)
					)
				)
			</OnRefuel>
		</Events>
	</ItemType>
	
	<!-- Pteracnium Assembly-->

	<ItemType UNID="&itCCPteracniumAssembly;"
			name=				"pteracnium reactor assembly| pteracnium reactor assemblies"
			attributes=			"basicFuel, cabbageCorp, consumable, fuel"
			
			level=				"10"
			frequency=			"common"
			numberAppearing=	"3d6"
			
			value=				"3000"
			mass=				"180"

			data=				"300000"
			
			description=		"This is an enriched bundle of pteracnium fuel rods. Though more efficient than individual fuel rods, only reactors rated L10 or higher can accommodate them."
	>

		<Image imageID="&rsItems1;" imageX="288" imageY="96" imageWidth="96" imageHeight="96"/>
	</ItemType>
	
	<!-- Hadron-vacuum Assembly -->

	<ItemType UNID="&itCCHadronVacuumModule;"
			name=				"hadron-vacuum reactor module"
			attributes=			"basicFuel, cabbageCorp, consumable, fuel, zeroPoint"
			
			level=				"12"
			frequency=			"common"
			numberAppearing=	"3d6"

			value=				"15000"
			mass=				"300"

			data=				"1500000"
			
			description=		"This is an enriched mass of hadron-vacuum fuel. Though more efficient than individual fuel cells, only reactors rated L12 or higher can accommodate them."
	>

		<Image imageID="&rsItems1;" imageX="288" imageY="96" imageWidth="96" imageHeight="96"/>
	</ItemType>
	
	<!-- Zero-Point Crystal -->

	<ItemType UNID="&itCCZeroPointCrystal;"
			name=				"zero-point crystal"
			attributes=			"alien, cabbageCorp, consumable, fuel, zeroPoint"
			
			level=				"9"
			frequency=			"veryrare"
			numberAppearing=	"1"
			
			value=				"6000"
			mass=				"2"

			data=				"2500000"
			
			description=		"Zero-point crystals are a highly efficient form of fuel storage in development by Cabbage Corp. ZPCs utilize a crystal matrix that exists partially in subspace to store massive amounts of zero-point energy in a relatively small physical space, though they have a tendency to disappear ships that use them. Only reactors rated L9 or higher can utilize them."
	>
		
		<Events>
			<OnRefuel>
				(if (leq (objGetDistance gSource (sysFindObject gSource "GN")) 3)
					(if (find (sysGetNodes) "Othala")
						(objGateTo gSource "Othala" "Start" &efStargateOut;)
						(objSendMessage gSource Nil "Subspace unstable in this area!")
					)
					(objGateTo gSource "Othala" "Start" &efStargateOut;)
				)
			</OnRefuel>
		</Events>
		
		<Image imageID="&rsCCItems;" imageX="192" imageY="96" imageWidth="96" imageHeight="96"/>
	</ItemType>

</TranscendenceModule>